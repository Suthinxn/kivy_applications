WindowManager:
    Mamoney_app:
    Register_user:
    Login_user:
    Homepage:
    Income_expense:
    Save_money:

<Mamoney_app>:
    name: "mamoney"
    BoxLayout:
        orientation: 'vertical'
        padding: [10, 10, 10, 10]
        Label:
            text: "MaMoney"
            font_size: "50sp"
        Label:
            id: greeting
            text: "Hello"
            font_size: "40sp"
        Button:
            text: "Click Here!"
            font_size: "30sp"
            on_press: root.random_greeting()

        BoxLayout:
            padding: [0, 10, 0, 0]
            Button: 
                text: "Login"
                font_size: "30sp"
                on_release: app.root.current = "login"
                
            Button: 
                text: "Register"
                font_size: "30sp"
                on_release: app.root.current = "register"

<Register_user>:
    name: "register"

    BoxLayout:
        orientation: 'vertical'
        Label:
            text: "Register"
            font_size: "50sp"
        Label:
            id: topic
            text: "Please fill in the form below"
            font_size: "30sp"
        BoxLayout:
            padding: [10, 10, 10, 10] 
            Label:
                # padding: [10, 10, 10, 10]
                text: "User name"
                font_size: 15
                size_hint: (0.2,0.5)
            TextInput:
                id: username
                hint_text: "username"
                multiline: False
                halign: "left"
                font_size: 20
                size_hint: (0.8,0.5)
        
        BoxLayout:
            padding: [10, 10, 10, 10]
            Label:
                text: "Password"
                font_size: 15
                size_hint: (0.2,0.5)
            TextInput:
                id: password
                hint_text: "password"
                halign: "left"
                multiline: False
                font_size: 20
                size_hint: (0.8,0.5)
                pos_hint: {'up': 4}
        BoxLayout:
            padding: [10, 10, 10, 10] 
            Label:
                text: "Confirm Password"
                font_size: 15
                size_hint: (0.2,0.4)
            TextInput:
                id: confirm_password
                hint_text: "password"
                multiline: False
                halign: "left"
                font_size: 20
                size_hint: (0.8,0.4)

        BoxLayout:
            # orientation: 'vertical'
            Button: 
                text: "Check infomation"
                font_size: "30sp"
                disabled: True if topic.text == "Complete" else False
                on_press: root.check_infomation(username.text, password.text, confirm_password.text)

            Button: 
                id: summit 
                text: "Summit"
                font_size: "30sp"
                disabled:  False if topic.text=="Complete" else True
                on_release: app.root.current = "login"

<Login_user>:
    name: "login"
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: "Login"
            font_size: "50sp"
        Label:
            id: topic_login
            text: "Please fill in the form below"
            font_size: "30sp"        

        BoxLayout:
            padding: [10, 10, 10, 10] 
            Label:
                text: "User name"
                font_size: 15
                size_hint: (0.2,0.4)
            TextInput:
                id: username_login
                hint_text: "username"
                multiline: False
                font_size: 20
                size_hint: (0.8,0.4)
        
        BoxLayout:
            padding: [10, 10, 10, 10] 
            Label:
                text: "Password"
                font_size: 15
                size_hint: (0.2,0.4)
            TextInput:
                id: password_login
                hint_text: "password"
                multiline: False
                font_size: 20
                size_hint: (0.8,0.4)

        BoxLayout:
            # orientation: 'vertical'
            Button: 
                text: "Check infomation"
                font_size: "30sp"
                disabled: True if topic_login.text == "Login Succes" else False
                on_press: root.check_login(username_login.text, password_login.text)

            Button: 
                id: summit 
                text: "Summit"
                font_size: "30sp"
                disabled:  False if topic_login.text=="Login Succes" else True
                on_release: app.root.current = "homepage"

<Homepage>:
    name: "homepage"
    BoxLayout:
        orientation: 'vertical'
        padding: [10, 10, 10, 10]
    
        Label:
            text: "MaMoney"
            font_size: "60sp"

        BoxLayout:
            Button:
                text: "Income and Expense"
                font_size: "20sp"
                on_release: app.root.current = "incom_expense"             
            Button:
                text: "Save_money"
                font_size: "20sp"
                on_release: app.root.current = "save_money"

        Button:
            text: "Log out"
            font_size: "30sp"
            on_release: app.root.current = "mamoney"

<Income_expense>:
    name: "incom_expense"
    BoxLayout:
        orientation: 'vertical'
        padding: [10, 10, 10, 10]

        BoxLayout:
     
            Label:
                text: "Income"
                font_size: "30sp"

            Label:
                text: "Expense"
                font_size: "30sp"
        BoxLayout:
            padding: [10, 10, 10, 10] 
            BoxLayout:
                TextInput:
                    id: input_income
                    hint_text: "Bath"
                    multiline: False
                    halign: "center"
                    font_size: 20
                    size_hint: (0.6,1)
                Button:
                    id: income_button
                    text: "Summit"
                    font_size: 15
                    size_hint: (0.4,1)
                    on_press: root.sum_income(input_income.text)
            BoxLayout:
                TextInput:
                    id: input_expense
                    hint_text: "Bath"
                    multiline: False
                    halign: "center"
                    font_size: 20
                    size_hint: (0.6,1)
                Button:
                    id: expense_button
                    text: "Summit"
                    font_size: 15
                    size_hint: (0.4,1)
                    on_press: root.sum_expense(input_expense.text)
        
        BoxLayout:
            # orientation: 'vertical'
            BoxLayout:
                Label:
                    id: display_income
                    text: "0"
                    font_size: "50sp"
            
                Label:
                    id: display_expense
                    text: "0"
                    font_size: "50sp"        
        Button:
            id: exit
            text: "Exit"
            font_size: "20sp"
            on_release: app.root.current = "homepage"

<Save_money>:
    name: "save_money"
    padding: [10, 10, 10, 10] 
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: "Save_money"
            font_size: "30sp"
        BoxLayout:
            TextInput:
                id: input_goal
                hint_text: "Goal"
                multiline: False
                halign: "center"
                font_size: 20
                # size_hint: (0.6,1)
            Button:
                id: income_button
                text: "Summit"
                font_size: 15
                # size_hint: (0.4,1)
                on_press: root.avg_savemoney(input_goal.text)
            TextInput:
                id: input_money
                hint_text: "savemoney"
                multiline: False
                halign: "center"
                font_size: 20
                # size_hint: (0.6,1)
            Button:
                id: income_savemoney
                text: "Summit"
                font_size: 15
                # size_hint: (0.4,1)
                on_press: root.sum_savemoney(input_money.text)      
        
        Label:
            id: display_save
            text: "0"
            font_size: "50sp"
    
        Button:
            id: exit
            text: "Exit"
            font_size: "20sp"
            on_release: app.root.current = "homepage"